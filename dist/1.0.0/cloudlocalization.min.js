var LanguageDirection,TranslationStatusResult,TranslatorProvider,UrlLanguageLocation,exports={};!function(t){t[t.ltr=0]="ltr",t[t.rtl=1]="rtl"}(LanguageDirection||(LanguageDirection={})),function(t){t[t.ignored=1]="ignored",t[t.succeeded=2]="succeeded",t[t.failed=3]="failed"}(TranslationStatusResult||(TranslationStatusResult={})),function(t){t[t.none=0]="none",t[t.Azure=1]="Azure"}(TranslatorProvider||(TranslatorProvider={})),function(t){t[t.none=0]="none",t[t.subdirectory=1]="subdirectory"}(UrlLanguageLocation||(UrlLanguageLocation={}));exports={};var Translations=function(){return function(){this.translation=[]}}(),TranslationValue=function(){return function(){}}(),Language=function(){return function(){}}(),TranslationStatus=function(){return function(t,e,n){this.element=t,this.result=e,this.text=n}}(),__awaiter=(exports={},exports={},this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(r,i){function o(t){try{u(a.next(t))}catch(t){i(t)}}function s(t){try{u(a.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,s)}u((a=a.apply(t,e||[])).next())})}),__generator=this&&this.__generator||function(t,e){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},CloudLocalization=function(){function t(e){t._settings=this.mergeSettings(e),t.updateCurrentLanguage(),t.fillInLanguages(),t.translateDOM(),$(document).on("change",".cloudlocalization-selection",function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return""!==(e=$(this).val().toString())&&t.setCurrentLanguage(e),t.scrollToTop(200),[4,t.translateDOM()];case 1:return n.sent(),[2]}})})})}return t.prototype.mergeSettings=function(t){var e={defaultLanguage:"en",logTranslationsFromProvider:!1,translatorProvider:TranslatorProvider.none,translatorProviderKey:"",urlLanguageLocation:UrlLanguageLocation.none,languages:[]};for(var n in t)e[n]=t[n];return e},Object.defineProperty(t,"translationsList",{get:function(){return void 0===this._translationsList&&(this._translationsList=[]),this._translationsList},enumerable:!0,configurable:!0}),t.addTranslationValue=function(t,e,n){var a=this.getTranslations(t);void 0===a&&((a=new Translations).languageCode=t,this._translationsList.push(a));var r=new TranslationValue;r.default=e,r.text=n,a.translation.push(r)},t.getTranslations=function(t){var e;return this.translationsList.forEach(function(n){n.languageCode===t&&(e=n)}),e},Object.defineProperty(t,"nonTranslatedElements",{get:function(){return["code","html","head","head > *"]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"stylePropertiesToSwitch",{get:function(){var t=[];return["padding","margin"].forEach(function(e){t.push(e+"-left"),t.push(e+"-right")}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"stylePropertiesToOpposite",{get:function(){return["text-align","justify-content","justify-self","float","background-position-x"]},enumerable:!0,configurable:!0}),Object.defineProperty(t,"translatorProviderKey",{get:function(){return this._settings.translatorProviderKey},enumerable:!0,configurable:!0}),Object.defineProperty(t,"translatorProvider",{get:function(){return this._settings.translatorProvider},enumerable:!0,configurable:!0}),Object.defineProperty(t,"urlLanguageLocation",{get:function(){return this._settings.urlLanguageLocation},enumerable:!0,configurable:!0}),Object.defineProperty(t,"logTranslationsFromProvider",{get:function(){return this._settings.logTranslationsFromProvider},enumerable:!0,configurable:!0}),Object.defineProperty(t,"supportsTranslateAttribute",{get:function(){return void 0!==this._supportsTranslateAttribute?this._supportsTranslateAttribute:this._supportsTranslateAttribute=void 0!==$("body")[0].translate},enumerable:!0,configurable:!0}),t.doTranslateElement=function(t){if(this.supportsTranslateAttribute)return!1!==t.translate&&(void 0===$(t).closest("*[translate]")[0]||!1!==$(t).closest("*[translate]")[0].translate);var e=$(t).attr("translate");return void 0===e?void 0===$(t).closest("*[translate]")[0]||"no"!==$(t).closest("*[translate]").attr("translate").toLowerCase():"no"!==e.toLowerCase()},Object.defineProperty(t,"defaultLanguage",{get:function(){var t=this;return void 0!==this._defaultLanguage?this._defaultLanguage:(this.languages.forEach(function(e){e.code.toLowerCase()===t._settings.defaultLanguage.toLowerCase()&&(t._defaultLanguage=e)}),this._defaultLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"languages",{get:function(){return this._settings.languages},enumerable:!0,configurable:!0}),t.parseLanguage=function(t){var e;return t=t.trim().toLowerCase(),this.languages.forEach(function(n){n.code.toLowerCase()===t&&(e=n)}),void 0!==e?e:(-1!==t.indexOf("-")&&this.languages.forEach(function(n){n.code.toLowerCase()===t.split("-")[0]&&(e=n)}),void 0!==e?e:this.defaultLanguage)},Object.defineProperty(t,"direction",{get:function(){return this.currentLanguage.direction},enumerable:!0,configurable:!0}),t.translations=function(){return __awaiter(this,void 0,void 0,function(){var e,n,a,r,i,o,s,u;return __generator(this,function(l){switch(l.label){case 0:return void 0!==(e=this.getTranslations(t.currentLanguage.code))&&null===e.translation?[2,void 0]:void 0!==e?[2,e]:(n="translation/"+this.currentLanguage.code.toLowerCase()+".json",[4,fetch(n)]);case 1:return(a=l.sent()).ok?[3,3]:(n=location.protocol+"//"+location.host+"/"+n,[4,fetch(n)]);case 2:if(!(a=l.sent()).ok)return(r=new Translations).languageCode=t.currentLanguage.code,r.translation=null,this._translationsList.push(r),[2,void 0];l.label=3;case 3:return[4,a.json()];case 4:for(i=l.sent(),o=0,s=i;o<s.length;o++)u=s[o],this.addTranslationValue(t.currentLanguage.code,u.o,u.t);return[2,this.getTranslations(t.currentLanguage.code)]}})})},t.getTranslation=function(e){return __awaiter(this,void 0,void 0,function(){var n,a;return __generator(this,function(r){switch(r.label){case 0:return this.currentLanguage.code===this.defaultLanguage.code?[2,e]:(n=null,[4,t.translations()]);case 1:return void 0===(a=r.sent())?[2,void 0]:(a.translation.forEach(function(t){t.default.trim()===e.trim()&&(n=t)}),null===n?[2,void 0]:[2,n.text.replace(e.trim(),n.text)])}})})},t.translateElement=function(e){return __awaiter(this,void 0,void 0,function(){var n,a,r,i,o,s,u,l,c,g;return __generator(this,function(d){switch(d.label){case 0:if(void 0===e)return[2,[]];if(t.direction===LanguageDirection.rtl){if(void 0!==(n=e.style.cssText)){for($(e).data("_ctoriginalstyle",n),a="",r=0;r<e.style.length;r++)i=e.style[r],-1!==t.stylePropertiesToOpposite.indexOf(i)?a+=t.oppositeRTLCSSValues(e,i):-1!==t.stylePropertiesToSwitch.indexOf(i)?a+=t.switchRTLCSSValues(e,i):a+=i+": "+e.style[i]+"; ";a!==n&&($(e).data("_ctoriginalstyle",n),e.style.cssText=a)}}else""!==(o=$(e).data("_ctoriginalstyle"))&&($(e).attr("style",o),$(e).removeData("_ctoriginalstyle"));if(!this.doTranslateElement(e))return[2,[]];if("A"===e.tagName&&-1!==(s=e.getAttribute("href")).indexOf(":")&&("mailto"===(s=s.split(":")[0].toLowerCase())||"tel"===s))return e.setAttribute("dir","ltr"),[2,[]];u=[],d.label=1;case 1:return d.trys.push([1,3,,4]),[4,t.translateElementText(e)];case 2:return l=d.sent(),u.push(l),[3,4];case 3:return d.sent(),[3,4];case 4:return d.trys.push([4,6,,7]),[4,t.translateElementTitle(e)];case 5:return c=d.sent(),u.push(c),[3,7];case 6:return d.sent(),[3,7];case 7:if("INPUT"!==e.tagName)return[3,11];d.label=8;case 8:return d.trys.push([8,10,,11]),[4,t.translateElementPlaceholder(e)];case 9:return g=d.sent(),u.push(g),[3,11];case 10:return d.sent(),[3,11];case 11:return[2,u]}})})},t.onlyUnique=function(t,e,n){return n.indexOf(t)===e},t.translateElementText=function(e){return __awaiter(this,void 0,void 0,function(){var n,a;return __generator(this,function(r){switch(r.label){case 0:return"script"==e.tagName.toLowerCase()?[2,new TranslationStatus(e,TranslationStatusResult.ignored)]:void 0===(n=e.childNodes[0])?[2,new TranslationStatus(e,TranslationStatusResult.ignored)]:null===n.nodeValue?[2,new TranslationStatus(e,TranslationStatusResult.ignored)]:""===n.nodeValue.trim()?[2,new TranslationStatus(e,TranslationStatusResult.ignored)]:[4,t.translate(e,"_ctoriginaltext",n.nodeValue)];case 1:switch((a=r.sent()).result){case TranslationStatusResult.succeeded:return n.nodeValue=a.text,[2,a];case TranslationStatusResult.failed:return n.nodeValue=a.text,a.attribute="text",[2,a];default:return[2,a]}return[2]}})})},t.translateElementTitle=function(e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return[4,t.translate(e,"_ctoriginaltitle",e.title)];case 1:switch((n=a.sent()).result){case TranslationStatusResult.succeeded:return e.title=n.text,[2,n];case TranslationStatusResult.failed:return e.title=n.text,n.attribute="title",[2,n];default:return[2,n]}return[2]}})})},t.translateElementPlaceholder=function(e){return __awaiter(this,void 0,void 0,function(){var n;return __generator(this,function(a){switch(a.label){case 0:return[4,t.translate(e,"_ctoriginalplaceholder",e.placeholder)];case 1:switch((n=a.sent()).result){case TranslationStatusResult.succeeded:return e.placeholder=n.text,[2,n];case TranslationStatusResult.failed:return e.placeholder=n.text,n.attribute="placeholder",[2,n];default:return[2,n]}return[2]}})})},t.translate=function(e,n,a){return __awaiter(this,void 0,void 0,function(){var r,i;return __generator(this,function(o){switch(o.label){case 0:return void 0!==$(e).data(n)&&(r=$(e).data(n)),void 0!==r&&""!==r.trim()||null!==a&&""!==a.trim()?(void 0!==r&&""!==r.trim()||(r=a),[4,t.getTranslation(r)]):[2,new TranslationStatus(e,TranslationStatusResult.ignored)];case 1:return void 0===(i=o.sent())?($(e).removeData(n),[2,new TranslationStatus(e,TranslationStatusResult.failed,r)]):(i!==r?$(e).data(n,r):$(e).removeData(n),[2,new TranslationStatus(e,TranslationStatusResult.succeeded,i)])}})})},t.addRTLCSS=function(){var e=document.createElement("style");e.type="text/css",e.innerHTML=t.generateRTLCSS(),document.getElementsByTagName("head")[0].appendChild(e)},t.generateRTLCSS=function(){var e='html[dir="rtl"] {direction: rtl;}';return $.each(document.styleSheets,function(n,a){try{e+=t.getRulesStyle(a.cssRules||a.rules)}catch(t){}}),e},t.getRulesStyle=function(e){var n="";return $.each(e,function(e,a){if(4===a.type){var r=void 0;try{r=t.getRulesStyle(a.cssRules||a.rules)}catch(t){return}""!==r&&(n+="@media "+a.conditionText+"{",n+=r,n+="}")}if(void 0!==a.style){var i="";t.stylePropertiesToOpposite.forEach(function(e){i+=t.oppositeRTLCSSValues(a,e)}),t.stylePropertiesToSwitch.forEach(function(e){i+=t.switchRTLCSSValues(a,e)}),""!==i&&(n+="html[dir=rtl] "+a.selectorText+"{"+i+"}")}}),n},t.switchRTLCSSValues=function(t,e){var n=(e=e.split("-")[0])+"-left",a=e+"-right",r=t.style[n],i=t.style[a];return""===r&&""===i?"":r===i?"":(""===r&&(r="initial"),""===i&&(i="initial"),n+": "+i+";"+a+": "+r+";")},t.oppositeRTLCSSValues=function(e,n){var a=e.style[n];if(""===a)return"";var r="";return"left"===a?r+=n+": right;":"right"===a?r+=n+": left;":t.canBeNegative(a)&&(0===a.indexOf("-")?r+=n+": "+a.substr(1)+";":r+=n+": -"+a+";"),r},t.canBeNegative=function(t){var e=!1;return["px","pt","pc","cm","mm","in","em","rem","vw","vh","ex","ch","vmin","vmax","%"].forEach(function(n){t.indexOf(n)>0&&-1===t.indexOf(" ")&&(e=!0)}),e},t.azureAutoTranslate=function(t){return __awaiter(this,void 0,void 0,function(){var e,n,a,r,i,o=this;return __generator(this,function(s){switch(s.label){case 0:if(0===t.length)return[2,[]];e="",t.forEach(function(t){e+='{"Text": "'+t+'"},'}),n=[],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,$.ajax({url:"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&from="+this.defaultLanguage.code+"&to="+this.currentLanguage.code,type:"POST",dataType:"json",data:"["+e+"]",cache:!0,beforeSend:function(t){t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Ocp-Apim-Subscription-Key",o.translatorProviderKey)}})];case 2:return a=s.sent(),r=[],$.each(a,function(e,a){n[e]=a.translations[0].text,o.logTranslationsFromProvider&&r.push('{"o": "'+t[e].trim()+'", "t": "'+n[e].trim()+'"}')}),this.logTranslationsFromProvider&&console.log("["+r.join(",")+"]"),[3,4];case 3:return i=s.sent(),console.log(i.responseJSON.error.message),console.log(e),[3,4];case 4:return[2,n]}})})},t.scrollToTop=function(t){var e=0,n=(window.pageYOffset-e)/2,a=0,r=window.performance.now();window.requestAnimationFrame(function i(o){var s=o-r;if(s>100&&(s=30),!((a+=Math.PI/(t/s))>=Math.PI)){var u=Math.round(e+n+n*Math.cos(a));window.scrollTo(0,u),r=o,window.requestAnimationFrame(i)}})},t.updateCurrentLanguage=function(){var t,e,n,a,r;try{a=localStorage.getItem("lang")}catch(t){console.log("localStorage is not supported."),a=null}(null!==a&&(t=this.parseLanguage(a)),void 0!==this.urlLanguageLocation)&&(this.urlLanguageLocation===UrlLanguageLocation.subdirectory&&(r=window.location.pathname.split("/")[1]),void 0!==r&&(2===r.length||5===r.length&&2===r.indexOf("-"))&&(this.languages.forEach(function(t){t.code.toLowerCase()===r.toLowerCase()&&(a=t.code)}),-1!==r.indexOf("-")&&void 0===a&&(r=r.split("-")[0],this.languages.forEach(function(t){t.code.toLowerCase()===r.toLowerCase()&&(a=t.code)})),void 0!==a&&(e=this.parseLanguage(a))));void 0!==(a=navigator.language||navigator.userLanguage)&&(n=this.parseLanguage(a)),void 0!==e?this.setCurrentLanguage(e.code):void 0!==t?this.setCurrentLanguage(t.code):void 0!==n?this.setCurrentLanguage(n.code):this.setCurrentLanguage(this.defaultLanguage.code)},Object.defineProperty(t,"currentLanguage",{get:function(){return void 0!==this._currentLanguage?this._currentLanguage:(this.updateCurrentLanguage(),this._currentLanguage)},enumerable:!0,configurable:!0}),t.updateUrlLanguage=function(){if(void 0!==this.urlLanguageLocation&&this.urlLanguageLocation===UrlLanguageLocation.subdirectory){var t=window.location.pathname.split("/"),e=t[1];2===e.length||5===e.length&&2===e.indexOf("-")?t[1]=this.currentLanguage.code:t.splice(1,0,this.currentLanguage.code),history.replaceState(null,null,t.join("/"))}},t.setCurrentLanguage=function(t){this._currentLanguage=this.parseLanguage(t);try{localStorage.setItem("lang",this._currentLanguage.code)}catch(t){console.log("localStorage is not supported.")}this.updateUrlLanguage()},t.translateDOM=function(){return __awaiter(this,void 0,void 0,function(){var e,n,a,r,i,o,s,u,l,c,g,d;return __generator(this,function(f){switch(f.label){case 0:$("html").attr("lang",t.currentLanguage.code),t.direction===LanguageDirection.rtl?$("html").attr("dir","rtl"):$("html").removeAttr("dir"),$.each(document.styleSheets,function(t,n){try{$.each(n.cssRules||n.rules,function(t,a){'html[dir="rtl"] { direction: rtl; }'===a.cssText&&(e=n)})}catch(t){}}),t.direction===LanguageDirection.rtl&&void 0===e&&t.addRTLCSS(),n="*",t.nonTranslatedElements.forEach(function(t){n+=':not("'+t+'")'}),a=[],r=0,i=$(n).toArray(),f.label=1;case 1:if(!(r<i.length))return[3,6];o=i[r],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,t.translateElement(o)];case 3:return f.sent().forEach(function(t){a.push(t)}),[3,5];case 4:return f.sent(),[3,5];case 5:return r++,[3,1];case 6:if(this.currentLanguage.code===this.defaultLanguage.code)return[3,20];if(s=[],a.forEach(function(t){try{switch(t.result){case TranslationStatusResult.failed:s.push(t.text.replace(/"/g,'\\"'))}}catch(t){}}),s=s.filter(this.onlyUnique),1!==this.translatorProvider)return[3,10];f.label=7;case 7:return f.trys.push([7,9,,10]),[4,this.azureAutoTranslate(s)];case 8:return u=f.sent(),null===this.getTranslations(t.currentLanguage.code).translation&&(this.getTranslations(t.currentLanguage.code).translation=[]),$.each(u,function(e,n){try{t.addTranslationValue(t.currentLanguage.code,s[e],n)}catch(t){}}),[3,10];case 9:return l=f.sent(),console.log(l),[3,10];case 10:c=0,g=a,f.label=11;case 11:if(!(c<g.length))return[3,19];switch(d=g[c],d.result){case TranslationStatusResult.failed:return[3,12]}return[3,17];case 12:return"title"!==d.attribute?[3,14]:[4,t.translateElementTitle(d.element)];case 13:return f.sent(),[3,16];case 14:return[4,t.translateElementText(d.element)];case 15:f.sent(),f.label=16;case 16:case 17:return[3,18];case 18:return c++,[3,11];case 19:f.label=20;case 20:return this._currentLanguage=void 0,[2]}})})},t.fillInLanguages=function(){var e=$(".cloudlocalization-selection");if(0!==e.length){e.attr("translate","no"),e.html("");var n=this.currentLanguage.code;t.languages.forEach(function(t){$(".cloudlocalization-selection").append('<option value="'+t.code+'"'+(t.code===n?" selected ":"")+">"+t.displayName+"</option>")})}},t}(),cloudLocalization=function(t){return new CloudLocalization(t)};